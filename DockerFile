FROM AdoptOpenJDK/openjdk17:latest AS build

WORKDIR /app
COPY . /app
RUN mvn clean package

# Create the JAR file for the executable jar package
RUN jar cmf -C /app target/manufaktura-1.0-SNAPSHOT.jar META-INF/MANIFEST.mf

FROM openjdk:latest

WORKDIR /usr/src/app
COPY target/CooksCorner-0.0.1-SNAPSHOT.jar /app/cookscorner_repo_docker.jar